<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Probability density plots with risk shading</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Probability density plots with risk
shading</h1>



<p>Another important factor for decision-makers is assessing the
severity of the situation at its expected peak (or minimum). To do this,
we plot the probability density of the highest (or lowest if the
threshold is a minimum) projected outcome across simulation runs for a
given policy alternative. The decision threshold is shown directly on
the plot as a vertical line. The area under the probability density
curve where the threshold value is exceeded is shaded to visually
display the downside risk of the policy alternative.</p>
<p>In our example, we define the peak as the highest hospital demand
observed in each simulation run. First, we find these values using the
<code>get_max_min_values()</code> function.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># define inputs</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>tmin <span class="ot">&lt;-</span> <span class="fu">min</span>(psa_data<span class="sc">$</span>Intervention_1[, <span class="dv">1</span>]) <span class="co"># minimum simulation time</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>tmax <span class="ot">&lt;-</span> <span class="fu">max</span>(psa_data<span class="sc">$</span>Intervention_1[, <span class="dv">1</span>]) <span class="co"># maximum simulation time</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>Dt <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">750</span>, <span class="fu">length</span>(tmin<span class="sc">:</span>tmax))) <span class="co"># decision threshold vector </span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>Dt_max <span class="ot">&lt;-</span> <span class="cn">TRUE</span> <span class="co"># indicates the threshold values are maximums</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="do">## find peak values</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>peak_values_list <span class="ot">&lt;-</span> <span class="fu">get_max_min_values</span>(psa_data, tmin, tmax, Dt_max)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="fu">head</span>(peak_values_list<span class="sc">$</span>Baseline)</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="co">#&gt;   N  outcome     i_time</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="co">#&gt; 1 1 4207.443 2021-01-26</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="co">#&gt; 2 2 1681.521 2021-02-01</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="co">#&gt; 3 3 2539.177 2021-02-04</span></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="co">#&gt; 4 4 2969.721 2021-01-31</span></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="co">#&gt; 5 5 3073.741 2021-02-05</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="co">#&gt; 6 6 1520.144 2021-02-08</span></span></code></pre></div>
<p>We then use the <code>plot_density()</code> function to generate the
probability density plots.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># define single threshold value for the peak</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>D <span class="ot">&lt;-</span> <span class="dv">750</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co"># calculate risk measure</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>risk_measures_list <span class="ot">&lt;-</span> <span class="fu">calculate_risk</span>(psa_data, tmin, tmax, Dt, Dt_max)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co"># generate density plots</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>density_plots <span class="ot">&lt;-</span> <span class="fu">plot_density</span>(</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>  peak_values_list, D,</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>  Dt_max, risk_measures_list</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>)</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="do">## example plot</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>density_plots<span class="sc">$</span>Intervention_1</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" width="100%" /></p>
<p>All plotting functions in the DUToolkit return ggplot2 plot objects.
You can adjust/customize the plots after they have been generated (<a href="https://rstudio.github.io/cheatsheets/html/data-visualization.html">ggplot2
cheat sheet</a>).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># customize plots</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="do">## add fixed x/y-axis limits and change the label of the x-axis</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>density_plots <span class="ot">&lt;-</span> <span class="fu">lapply</span>(density_plots, <span class="cf">function</span>(x) {</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  x <span class="sc">+</span> ggplot2<span class="sc">::</span><span class="fu">ylim</span>(<span class="dv">0</span>, <span class="fl">0.002</span>) <span class="sc">+</span> ggplot2<span class="sc">::</span><span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">4500</span>) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>    ggplot2<span class="sc">::</span><span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Hospital demand at peak&quot;</span>)</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>})</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="do">## remove subtitle and caption</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>density_plots <span class="ot">&lt;-</span> <span class="fu">lapply</span>(density_plots, <span class="cf">function</span>(x) {</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>  x <span class="sc">+</span> ggplot2<span class="sc">::</span><span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="cn">NULL</span>, <span class="at">caption =</span> <span class="cn">NULL</span>)</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>})</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="do">## example plot</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>density_plots<span class="sc">$</span>Intervention_1</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" width="100%" /></p>
<p>The <code>calculate_max_min_risk()</code> function is used within
<code>plot_density()</code> to calculate the risk measures at the peak
values (or lowest values if the threshold is a minimum), which is then
displayed in the plot subtitle. Additionally,
<code>calculate_max_min_risk()</code> can be used independently to
generate results without creating density plots.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># calculate risk measures at peak values</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>peak_risk <span class="ot">&lt;-</span> <span class="fu">calculate_max_min_risk</span>(peak_values_list, D, Dt_max)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co"># generate risk table dataframe</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>peak_risk_table <span class="ot">&lt;-</span> <span class="fu">tabulate_risk</span>(peak_risk, <span class="at">n_s =</span> <span class="fu">length</span>(peak_risk))</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>peak_risk_table</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co">#&gt;                    Baseline  Intervention 1</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#&gt; Risk               &quot;1500.79&quot; &quot;156.52&quot;      </span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">#&gt; Policy risk impact &quot;-&quot;       &quot;-89.57%&quot;</span></span></code></pre></div>
<p>The <code>calculate_threshold_probs()</code> function calculates the
probability that the peak (or minimum) value exceeds (or is below) a
specified threshold(s) using a Riemann sum approach.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># define vector of threshold values</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>Dp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">750</span>, <span class="dv">1000</span>, <span class="dv">2000</span>)</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co"># calculate probability that peak value is &gt; specified threshold values</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>peak_probs <span class="ot">&lt;-</span> <span class="fu">calculate_threshold_probs</span>(peak_values_list, Dp, Dt_max)</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>peak_probs<span class="sc">$</span>Baseline</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co">#&gt;    750   1000   2000 </span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">#&gt; 0.9494 0.8887 0.5895</span></span></code></pre></div>
<div id="den-outputs" class="section level3">
<h3>Sharing outputs</h3>
<p>The proability density plots further supplement the risk table and
the time-outcome fan plots by quantifying and visually displaying how
likely it is that the outcome at its projected peak will exceed the
threshold, capturing the downside risk associated with the projected
peak outcome.</p>
<p>We also recommend the following standard description for presenting
the probability density plots to decision-makers. We provide the
standard description in paragraph and bullet point form for ease of
use.</p>
<div id="standard-description" class="section level4 unnumbered">
<h4 class="unnumbered">Standard description</h4>
<div class="rmdnote">
<p>These probability density graphs show the distribution of the
<u><em>highest</em></u><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> forecasted <u><em>outcome</em></u><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> (i.e., the
<u><em>peak</em></u><a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>). The red dashed line indicates the policy
target. The shaded area indicates how likely it is that the
<u><em>outcome</em></u><a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> at its forecasted <u><em>peak</em></u><a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a> will
<u><em>exceed</em></u><a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a> the policy target, or simply, the amount of
downside risk. A larger shaded area means more downside risk.</p>
</div>
</div>
<div id="standard-description-bullet-points" class="section level4 unnumbered">
<h4 class="unnumbered">Standard description bullet points</h4>
<div class="rmdnote">
<p>These probability density graphs show:</p>
<ul>
<li><p>The distribution of the <u><em>highest</em></u><a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a> forecasted
<u><em>outcome</em></u><a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a> (i.e., the <u><em>peak</em></u><a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a>).</p></li>
<li><p>The red dashed line indicates the policy target.</p></li>
<li><p>The shaded area indicates how likely it is that the
<u><em>outcome</em></u><a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a> at its forecasted <u><em>peak</em></u><a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a> will
<u><em>exceed</em></u><a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a> the policy target (i.e, the amount of
downside risk).</p></li>
<li><p>A larger shaded area means more downside risk.</p></li>
</ul>
</div>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>if threshold is a minimum replace with <em>lowest</em><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>insert outcome description (ex. hospital demand)<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>if threshold is a minimum replace with <em>low
point</em><a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>insert outcome description (ex. hospital demand)<a href="#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>if threshold is a minimum replace with <em>low
point</em><a href="#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>if threshold is a minimum replace with <em>fall
below</em><a href="#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>if threshold is a minimum replace with <em>lowest</em><a href="#fnref7" class="footnote-back">↩︎</a></p></li>
<li id="fn8"><p>insert outcome description (ex. hospital demand)<a href="#fnref8" class="footnote-back">↩︎</a></p></li>
<li id="fn9"><p>if threshold is a minimum replace with <em>low
point</em><a href="#fnref9" class="footnote-back">↩︎</a></p></li>
<li id="fn10"><p>insert outcome description (ex. hospital demand)<a href="#fnref10" class="footnote-back">↩︎</a></p></li>
<li id="fn11"><p>if threshold is a minimum replace with <em>low
point</em><a href="#fnref11" class="footnote-back">↩︎</a></p></li>
<li id="fn12"><p>if threshold is a minimum replace with <em>fall
below</em><a href="#fnref12" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
